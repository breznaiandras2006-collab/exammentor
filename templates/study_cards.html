{% extends "base.html" %}
{% block content %}
<h1>ğŸ—‚ï¸ Study Cards</h1>

<div class="card">
  <form method="get" action="/study/cards">
    <label class="muted">KeresÃ©s</label>
    <input class="input" name="q" value="{{ q }}" placeholder="kÃ©rdÃ©s vagy vÃ¡lasz rÃ©szlet..." />

    <label class="muted">Dokumentum szÅ±rÅ‘</label>
    <select class="input" name="doc">
      <option value="">â€” Ã¶sszes â€”</option>
      {% for d in docs %}
        {% if doc_selected == d.id %}
          <option value="{{ d.id }}" selected>ğŸ“„ {{ d.title }}</option>
        {% else %}
          <option value="{{ d.id }}">ğŸ“„ {{ d.title }}</option>
        {% endif %}
      {% endfor %}
    </select>

    <div class="actions">
      <button type="submit">ğŸ” SzÅ±rÃ©s</button>
      <a class="buttonlike" href="/study/cards">ğŸ§¹ Reset</a>
      <a class="buttonlike" href="/study">â†©ï¸ Study</a>
    </div>
  </form>
</div>

<div class="card">
  <h2>Lista</h2>
  {% if not cards %}
    <p class="muted">Nincs kÃ¡rtya. Menj a Study oldalra Ã©s generÃ¡lj.</p>
  {% else %}
    <ul>
      {% for c in cards %}
        <li style="margin-bottom:12px;">
          <b>Q:</b> {{ c.question }}
          <div class="muted">
            box={{ c.box }} | due={{ c.due_at }}
            {% if c.document_title %} | ğŸ“„ {{ c.document_title }}{% endif %}
          </div>
          <div class="muted">{{ c.answer[:180] }}{% if c.answer|length > 180 %}â€¦{% endif %}</div>
        </li>
      {% endfor %}
    </ul>
  {% endif %}
</div>
{% endblock %}
